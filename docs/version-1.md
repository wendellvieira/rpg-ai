# Tarefas de Refatora√ß√£o - Vers√£o 1.0

Este documento cont√©m todas as tarefas necess√°rias para refatorar o projeto RPG-AI e alinhar com as diretrizes de arquitetura estabelecidas.

## üìã Status: An√°lise Completa + Melhorias UX

**Total de arquivos analisados:** 80+ arquivos  
**Tarefas identificadas:** **53 tarefas** (47 originais + 6 novas melhorias)  
**Prioridade:** Alta (requisito para vers√£o 1.0)

---

## üèóÔ∏è ARQUITETURA GERAL

### 1. Reestrutura√ß√£o de P√°ginas

- [ ] **Refatora√ß√£o da GamePage:**
  - **Description:** Separar a l√≥gica massiva da GamePage.vue (1789 linhas) em um GamePage_PageCtrl.ts seguindo o padr√£o estabelecido. A p√°gina atualmente mistura UI e l√≥gica de neg√≥cio.
  - **Source:** `/src/pages/GamePage.vue`
  - **Destination:** `/src/pages/Game/`
  - **Files to Create:**
    - `GamePage_Page.vue` (apenas UI)
    - `GamePage_PageCtrl.ts` (toda a l√≥gica)
    - `components/` (componentes espec√≠ficos da GamePage):
      - `ResourceTabs.vue` - Abas verticais do painel esquerdo (personagens, itens, magias, combate, mapas)
      - `ChatInterface.vue` - Interface principal de chat com IAs no painel central
      - `MessageBubble.vue` - Componente para renderizar mensagens individuais do chat
      - `GameSplitter.vue` - Layout de divis√£o entre painel de recursos e chat
      - `ResourcePanel.vue` - Container do painel esquerdo com header e conte√∫do das abas
      - `GameHeader.vue` - Cabe√ßalho da p√°gina de jogo com informa√ß√µes da sess√£o
      - `QuickActions.vue` - Barra de a√ß√µes r√°pidas (dados, testes, combate)
      - `SessionInfo.vue` - Informa√ß√µes da sess√£o atual (nome, data, status)

- [ ] **Refatora√ß√£o da SetupPage:**
  - **Description:** Aplicar o mesmo padr√£o Page + PageCtrl para a p√°gina de configura√ß√£o
  - **Source:** `/src/pages/SetupPage.vue`
  - **Destination:** `/src/pages/Setup/`
  - **Files to Create:**
    - `SetupPage_Page.vue`
    - `SetupPage_PageCtrl.ts`
    - `components/` (componentes espec√≠ficos da SetupPage):
      - `SetupTabs.vue` - Sistema de abas horizontais (personagens, itens, mapas, configura√ß√µes)
      - `PersonagensTab.vue` - Aba de gerenciamento de personagens com lista e a√ß√µes
      - `ItensTab.vue` - Aba de gerenciamento de itens e equipamentos
      - `MapasTab.vue` - Aba de cria√ß√£o e edi√ß√£o de mapas
      - `ConfigTab.vue` - Aba de configura√ß√µes do sistema (API, tema, prefer√™ncias)
      - `ResourceCounter.vue` - Contador de recursos (ex: "5 personagens, 12 itens")
      - `SetupHeader.vue` - Cabe√ßalho da p√°gina com t√≠tulo e descri√ß√£o
      - `QuickAddButtons.vue` - Bot√µes de a√ß√£o r√°pida (Novo Personagem, Novo Item, etc)
      - `ResourceGrid.vue` - Grid responsivo para exibir cards de recursos

- [ ] **Refatora√ß√£o da IndexPage:**
  - **Description:** Aplicar padr√£o para p√°gina inicial
  - **Source:** `/src/pages/IndexPage.vue`
  - **Destination:** `/src/pages/Index/`
  - **Files to Create:**
    - `IndexPage_Page.vue`
    - `IndexPage_PageCtrl.ts`
    - `components/` (componentes espec√≠ficos da IndexPage):
      - `WelcomeHeader.vue` - Cabe√ßalho de boas-vindas com logo e t√≠tulo do RPG-AI
      - `QuickActionCards.vue` - Cards de a√ß√µes r√°pidas (Nova Sess√£o, Gerenciar Recursos, Configura√ß√µes)
      - `ActionCard.vue` - Card individual de a√ß√£o com √≠cone, t√≠tulo e descri√ß√£o
      - `SavedSessions.vue` - Lista de sess√µes salvas com preview e informa√ß√µes
      - `SessionCard.vue` - Card individual de sess√£o com nome, data e a√ß√µes (continuar, deletar)
      - `EmptyState.vue` - Estado vazio quando n√£o h√° sess√µes salvas
      - `RecentActivity.vue` - Se√ß√£o de atividade recente (√∫ltimas sess√µes, estat√≠sticas)
      - `AppFeatures.vue` - Se√ß√£o com destaque das funcionalidades principais do app
      - `GetStarted.vue` - Tutorial ou dicas para novos usu√°rios

---

## üß© COMPONENTS REFACTORING

### 2. Padroniza√ß√£o de Modais

- [ ] **CriarPersonagemDialog ‚Üí Modal pattern:**
  - **Description:** Converter para o padr√£o de modal com controller pr√≥prio, incluindo m√©todos open/close com Deferred
  - **Source:** `/src/components/CriarPersonagemDialog.vue`
  - **Destination:** `/src/components/Modals/CriarPersonagem/`
  - **Files to Create:**
    - `CriarPersonagem.vue`
    - `CriarPersonagem_Ctrl.ts`

- [ ] **EditarPersonagemDialog ‚Üí Modal pattern:**
  - **Description:** Converter para padr√£o de modal com controller
  - **Source:** `/src/components/EditarPersonagemDialog.vue`
  - **Destination:** `/src/components/Modals/EditarPersonagem/`
  - **Files to Create:**
    - `EditarPersonagem.vue`
    - `EditarPersonagem_Ctrl.ts`

- [ ] **ConfigurarAPIDialog ‚Üí Modal pattern:**
  - **Description:** Converter para padr√£o de modal com controller
  - **Source:** `/src/components/ConfigurarAPIDialog.vue`
  - **Destination:** `/src/components/Modals/ConfigurarAPI/`
  - **Files to Create:**
    - `ConfigurarAPI.vue`
    - `ConfigurarAPI_Ctrl.ts`

- [ ] **ConjurarMagiaDialog ‚Üí Modal pattern:**
  - **Description:** Converter para padr√£o de modal com controller
  - **Source:** `/src/components/ConjurarMagiaDialog.vue`
  - **Destination:** `/src/components/Modals/ConjurarMagia/`
  - **Files to Create:**
    - `ConjurarMagia.vue`
    - `ConjurarMagia_Ctrl.ts`

- [ ] **PrepararMagiasDialog ‚Üí Modal pattern:**
  - **Description:** Converter para padr√£o de modal com controller
  - **Source:** `/src/components/PrepararMagiasDialog.vue`
  - **Destination:** `/src/components/Modals/PrepararMagias/`
  - **Files to Create:**
    - `PrepararMagias.vue`
    - `PrepararMagias_Ctrl.ts`

- [ ] **CombateDialog ‚Üí Modal pattern:**
  - **Description:** Converter para padr√£o de modal com controller
  - **Source:** `/src/components/CombateDialog.vue`
  - **Destination:** `/src/components/Modals/Combate/`
  - **Files to Create:**
    - `Combate.vue`
    - `Combate_Ctrl.ts`

- [ ] **ImportExportDialog ‚Üí Modal pattern:**
  - **Description:** Converter para padr√£o de modal com controller
  - **Source:** `/src/components/ImportExportDialog.vue`
  - **Destination:** `/src/components/Modals/ImportExport/`
  - **Files to Create:**
    - `ImportExport.vue`
    - `ImportExport_Ctrl.ts`

- [ ] **TesteAtributoDialog ‚Üí Modal pattern:**
  - **Description:** Converter para padr√£o de modal com controller
  - **Source:** `/src/components/TesteAtributoDialog.vue`
  - **Destination:** `/src/components/Modals/TesteAtributo/`
  - **Files to Create:**
    - `TesteAtributo.vue`
    - `TesteAtributo_Ctrl.ts`

### 3. Componentes Complexos

- [ ] **MapaCanvas ‚Üí Component + Controller:**
  - **Description:** Separar l√≥gica complexa de canvas em controller dedicado
  - **Source:** `/src/components/MapaCanvas.vue`
  - **Destination:** `/src/components/Mapa/MapaCanvas/`
  - **Files to Create:**
    - `MapaCanvas.vue`
    - `MapaCanvas_Ctrl.ts`

- [ ] **CatalogoMagias ‚Üí Component + Controller:**
  - **Description:** Separar l√≥gica de cat√°logo em controller
  - **Source:** `/src/components/CatalogoMagias.vue`
  - **Destination:** `/src/components/Catalogo/CatalogoMagias/`
  - **Files to Create:**
    - `CatalogoMagias.vue`
    - `CatalogoMagias_Ctrl.ts`

- [ ] **InventarioViewer ‚Üí Component + Controller:**
  - **Description:** Separar l√≥gica de invent√°rio
  - **Source:** `/src/components/InventarioViewer.vue`
  - **Destination:** `/src/components/Inventario/InventarioViewer/`
  - **Files to Create:**
    - `InventarioViewer.vue`
    - `InventarioViewer_Ctrl.ts`

### 4. Componentes Simples (Padroniza√ß√£o de UI)

- [ ] **Criar componentes base Input:**
  - **Description:** Criar componente Input padronizado substituindo QInput direto
  - **Source:** `N/A`
  - **Destination:** `/src/components/Base/Input/`
  - **Files to Create:**
    - `Input.vue`

- [ ] **Criar componentes base Btn:**
  - **Description:** Criar componente Btn padronizado substituindo QBtn direto
  - **Source:** `N/A`
  - **Destination:** `/src/components/Base/Btn/`
  - **Files to Create:**
    - `Btn.vue`

- [ ] **Criar componentes base Select:**
  - **Description:** Criar componente Select padronizado substituindo QSelect direto
  - **Source:** `N/A`
  - **Destination:** `/src/components/Base/Select/`
  - **Files to Create:**
    - `Select.vue`

- [ ] **Substituir QInput por Input nos componentes:**
  - **Description:** Substituir todas as ocorr√™ncias de QInput pelo componente Input padronizado em todos os arquivos .vue
  - **Source:** `**/*.vue`
  - **Destination:** `**/*.vue`
  - **Files to Update:** Todos os componentes que usam QInput

- [ ] **Substituir QBtn por Btn nos componentes:**
  - **Description:** Substituir todas as ocorr√™ncias de QBtn pelo componente Btn padronizado
  - **Source:** `**/*.vue`
  - **Destination:** `**/*.vue`
  - **Files to Update:** Todos os componentes que usam QBtn

---

## üóÉÔ∏è STORES REFACTORING

### 5. Convers√£o para Padr√£o de Classes

- [ ] **ConfigStore ‚Üí Padr√£o de Classe:**
  - **Description:** Converter useConfigStore para o padr√£o de classe com transformClass helper
  - **Source:** `/src/stores/configStore.ts`
  - **Destination:** `/src/stores/modules/config/`
  - **Files to Create:**
    - `Config_Store.ts`
    - `Config_Data.ts` (interfaces)

- [ ] **SessaoStore ‚Üí Padr√£o de Classe:**
  - **Description:** Converter useSessaoStore para o padr√£o de classe
  - **Source:** An√°lise necess√°ria (referenciado mas n√£o visto)
  - **Destination:** `/src/stores/modules/sessao/`
  - **Files to Create:**
    - `Sessao_Store.ts`
    - `Sessao_Data.ts`

- [ ] **PersonagemStore ‚Üí Padr√£o de Classe:**
  - **Description:** Converter usePersonagemStore para o padr√£o de classe
  - **Source:** An√°lise necess√°ria (referenciado mas n√£o visto)
  - **Destination:** `/src/stores/modules/personagem/`
  - **Files to Create:**
    - `Personagem_Store.ts`
    - `Personagem_Data.ts`

### 6. Implementa√ß√£o do Padr√£o Entidade-Documento

- [ ] **Personagens Entity-Document:**
  - **Description:** Implementar padr√£o Entidade-Documento para gerenciamento de personagens
  - **Source:** `Classes/Personagem.ts` + stores
  - **Destination:** `/src/stores/modules/personagens/`
  - **Files to Create:**
    - `Personagens_Entity.Store.ts`
    - `Personagem_Doc.ts`
    - `Personagem_Data.ts`

- [ ] **Sess√µes Entity-Document:**
  - **Description:** Implementar padr√£o para sess√µes de jogo
  - **Source:** `Classes/SessaoJogo.ts` + stores
  - **Destination:** `/src/stores/modules/sessoes/`
  - **Files to Create:**
    - `Sessoes_Entity.Store.ts`
    - `Sessao_Doc.ts`
    - `Sessao_Data.ts`

---

## üîß SERVICES REFACTORING

### 7. Padroniza√ß√£o de Services

- [ ] **OpenAIService ‚Üí Padr√£o de Classe Est√°tica:**
  - **Description:** Converter OpenAIService para usar m√©todos est√°ticos ao inv√©s de singleton
  - **Source:** `/src/services/OpenAIService.ts`
  - **Destination:** `/src/services/OpenAIService.ts`
  - **Changes:** Remover singleton pattern, usar m√©todos est√°ticos

- [ ] **DatabaseService ‚Üí Padr√£o de Classe Est√°tica:**
  - **Description:** Converter para m√©todos est√°ticos se for singleton
  - **Source:** `/src/services/DatabaseService.ts`
  - **Destination:** `/src/services/DatabaseService.ts`

- [ ] **BackupService ‚Üí Padr√£o de Classe Est√°tica:**
  - **Description:** Converter para m√©todos est√°ticos
  - **Source:** `/src/services/BackupService.ts`
  - **Destination:** `/src/services/BackupService.ts`

### 8. Utils Migration

- [ ] **Migrar fun√ß√µes utilit√°rias:**
  - **Description:** Mover fun√ß√µes utilit√°rias dos services para /src/utils/ com padr√£o de classe est√°tica
  - **Source:** Services diversos
  - **Destination:** `/src/utils/`
  - **Files to Create:**
    - `FormatHelper.ts`
    - `ValidationHelper.ts`
    - `DateHelper.ts`

---

## üéØ CLASSES REFACTORING

### 9. Melhorias nas Classes de Dom√≠nio

- [ ] **SistemaTurnos consolida√ß√£o:**
  - **Description:** Consolidar os m√∫ltiplos arquivos SistemaTurnos em um √∫nico arquivo definitivo
  - **Source:**
    - `/src/classes/SistemaTurnos.ts`
    - `/src/classes/SistemaTurnos_fixed.ts`
    - `/src/classes/SistemaTurnos_new.ts`
    - `/src/classes/SistemaTurnos_temp.ts`
  - **Destination:** `/src/classes/SistemaTurnos.ts`
  - **Action:** Consolidar e remover arquivos tempor√°rios

- [ ] **Personagem ‚Üí Reactive Pattern:**
  - **Description:** Adaptar classe Personagem para trabalhar com padr√£o reativo do controller
  - **Source:** `/src/classes/Personagem.ts`
  - **Destination:** `/src/classes/Personagem.ts`

- [ ] **SessaoJogo ‚Üí Reactive Pattern:**
  - **Description:** Adaptar classe SessaoJogo para padr√£o reativo
  - **Source:** `/src/classes/SessaoJogo.ts`
  - **Destination:** `/src/classes/SessaoJogo.ts`

---

## üìÅ ESTRUTURA DE ARQUIVOS

### 10. Reorganiza√ß√£o de Pastas

- [ ] **Criar estrutura pages modular:**
  - **Description:** Criar estrutura de pastas para p√°ginas seguindo o padr√£o
  - **Source:** `/src/pages/`
  - **Destination:**
    ```
    /src/pages/
    ‚îú‚îÄ‚îÄ Game/
    ‚îú‚îÄ‚îÄ Setup/
    ‚îú‚îÄ‚îÄ Index/
    ‚îî‚îÄ‚îÄ Error/
    ```

- [ ] **Criar estrutura components modular:**
  - **Description:** Reorganizar componentes por categoria
  - **Source:** `/src/components/`
  - **Destination:**
    ```
    /src/components/
    ‚îú‚îÄ‚îÄ Base/           # Input, Btn, Select, etc
    ‚îú‚îÄ‚îÄ Modals/         # Todos os modais
    ‚îú‚îÄ‚îÄ Game/           # Componentes espec√≠ficos do jogo
    ‚îú‚îÄ‚îÄ Layout/         # Componentes de layout
    ‚îî‚îÄ‚îÄ Complex/        # Componentes complexos
    ```

### 11. Arquivos de Defini√ß√£o

- [ ] **Criar definitions para Game:**
  - **Description:** Centralizar constantes e op√ß√µes da GamePage
  - **Source:** Constantes espalhadas em GamePage
  - **Destination:** `/src/pages/Game/definitions.ts`

- [ ] **Criar definitions para Classes/Ra√ßas:**
  - **Description:** Centralizar op√ß√µes de classes e ra√ßas
  - **Source:** Arrays hardcoded nos componentes
  - **Destination:** `/src/data/definitions.ts`

---

## üîÑ PADR√ïES DE COMUNICA√á√ÉO

### 12. Implementa√ß√£o do Padr√£o Connect

- [ ] **GamePage parent-child injection:**
  - **Description:** Implementar inje√ß√£o de controllers filhos no GamePage_PageCtrl
  - **Source:** Nova implementa√ß√£o
  - **Destination:** `/src/pages/Game/GamePage_PageCtrl.ts`

- [ ] **Modal controllers injection:**
  - **Description:** Todos os modais devem receber controller via props ao inv√©s de criar inst√¢ncia pr√≥pria
  - **Source:** Modais diversos
  - **Destination:** Controllers dos modais

### 13. Deferred Pattern Implementation

- [ ] **Criar Deferred helper:**
  - **Description:** Criar helper Deferred para padr√£o de promessas dos modais
  - **Source:** Nova implementa√ß√£o
  - **Destination:** `/src/utils/Deferred.ts`

- [ ] **Implementar em todos os modais:**
  - **Description:** Todos os controllers de modal devem usar Deferred para open/close
  - **Source:** Controllers de modal
  - **Destination:** Controllers de modal

---

## üß™ VALIDA√á√ÉO E TIPOS

### 14. Interfaces e Tipos

- [ ] **Consolidar interfaces:**
  - **Description:** Mover todas as interfaces para arquivos \_Data.ts apropriados
  - **Source:** Interfaces espalhadas
  - **Destination:** Arquivos `*_Data.ts` organizados

- [ ] **Implementar Zod validation:**
  - **Description:** Adicionar valida√ß√£o com Zod nos Doc classes
  - **Source:** Nova implementa√ß√£o
  - **Destination:** `*_Doc.ts` files

---

## üé® MELHORIAS DE UX/UI

### 15. Theme e Acessibilidade

- [ ] **ThemeService ‚Üí ThemeHelper:**
  - **Description:** Converter ThemeService para padr√£o de helper est√°tico
  - **Source:** `/src/services/ThemeService.ts`
  - **Destination:** `/src/utils/ThemeHelper.ts`

---

## üîß CONFIGURA√á√ÉO E BUILD

### 16. Linting e Code Quality

- [ ] **Aplicar diretrizes de imports:**
  - **Description:** Padronizar ordem de imports em todos os arquivos conforme diretrizes
  - **Source:** Todos os arquivos .ts/.vue
  - **Destination:** Todos os arquivos .ts/.vue

---

## üìä PRIORIZA√á√ÉO

### üî¥ Prioridade CR√çTICA (Bloqueia outras tarefas)

1. Criar componentes Base (Input, Btn, Select)
2. Criar helper Deferred
3. Implementar GamePage_PageCtrl
4. Convers√£o das stores principais (Config, Sessao, Personagem)

### üü° Prioridade ALTA (Arquitetura essencial)

5. Refatora√ß√£o dos modais principais
6. Padr√£o Entity-Document
7. Reorganiza√ß√£o de pastas
8. Consolida√ß√£o SistemaTurnos

### üü¢ Prioridade M√âDIA (Melhorias)

9. Services refactoring
10. Componentes complexos
11. Definitions files
12. Valida√ß√£o Zod
13. Aplicar diretrizes de imports

---

## ‚úÖ CHECKLIST DE VALIDA√á√ÉO

Para cada tarefa completada, verificar:

- [ ] Seguiu conven√ß√µes de nomenclatura
- [ ] L√≥gica separada da UI
- [ ] Imports organizados corretamente
- [ ] Tipos fortemente definidos
- [ ] Tratamento de erros implementado
- [ ] Padr√µes de comunica√ß√£o respeitados

---

## üÜï NOVAS TAREFAS IDENTIFICADAS

### 18. Reorganiza√ß√£o Estrutural - Tio Bobby's Architecture‚Ñ¢

- [ ] **Criar estrutura domain/entities:**
  - **Description:** Mover entidades puras do dom√≠nio para estrutura organizada por contexto
  - **Source:** `/src/classes/`
  - **Destination:** `/src/domain/entities/`
  - **Files to Create:**
    ```
    /src/domain/entities/
    ‚îú‚îÄ‚îÄ Character/
    ‚îÇ   ‚îú‚îÄ‚îÄ Personagem.ts (movido de classes/)
    ‚îÇ   ‚îî‚îÄ‚îÄ Atributos.ts (movido de classes/)
    ‚îú‚îÄ‚îÄ Items/
    ‚îÇ   ‚îú‚îÄ‚îÄ Item.ts (movido de classes/)
    ‚îÇ   ‚îú‚îÄ‚îÄ Arma.ts (movido de classes/)
    ‚îÇ   ‚îú‚îÄ‚îÄ Armadura.ts (movido de classes/)
    ‚îÇ   ‚îî‚îÄ‚îÄ Consumivel.ts (movido de classes/)
    ‚îî‚îÄ‚îÄ Magic/
        ‚îî‚îÄ‚îÄ Magia.ts (movido de classes/)
    ```

- [ ] **Criar estrutura services/Engine:**
  - **Description:** Reorganizar motores do jogo (l√≥gica de sistema) em estrutura dedicada
  - **Source:** Classes de sistema em `/src/classes/` + `/src/mcp/`
  - **Destination:** `/src/services/Engine/`
  - **Files to Create:**
    ```
    /src/services/Engine/
    ‚îú‚îÄ‚îÄ Combat/
    ‚îÇ   ‚îú‚îÄ‚îÄ CombatEngine.ts (SistemaCombate renomeado)
    ‚îÇ   ‚îú‚îÄ‚îÄ TurnEngine.ts (SistemaTurnos consolidado)
    ‚îÇ   ‚îî‚îÄ‚îÄ SimpleCombatEngine.ts (CombateSimples renomeado)
    ‚îú‚îÄ‚îÄ Dice/
    ‚îÇ   ‚îî‚îÄ‚îÄ DiceEngine.ts (Dados.ts movido)
    ‚îú‚îÄ‚îÄ World/
    ‚îÇ   ‚îú‚îÄ‚îÄ MapEngine.ts (Mapa.ts movido)
    ‚îÇ   ‚îî‚îÄ‚îÄ InventoryEngine.ts (Inventario.ts movido)
    ‚îú‚îÄ‚îÄ AI/
    ‚îÇ   ‚îú‚îÄ‚îÄ MCPEngine.ts (MCPHandler.ts movido e renomeado)
    ‚îÇ   ‚îú‚îÄ‚îÄ MCPTypes.ts (movido de mcp/)
    ‚îÇ   ‚îú‚îÄ‚îÄ MCPFunctions.ts (movido de mcp/)
    ‚îÇ   ‚îî‚îÄ‚îÄ ContextEngine.ts (ContextBuilder.ts movido)
    ‚îî‚îÄ‚îÄ Commands/
        ‚îú‚îÄ‚îÄ CommandRunner.ts (novo - executor principal)
        ‚îú‚îÄ‚îÄ CommandParser.ts (novo - parsing de comandos)
        ‚îî‚îÄ‚îÄ commands/ (pasta de comandos individuais)
            ‚îú‚îÄ‚îÄ BaseCommand.ts (interface base)
            ‚îú‚îÄ‚îÄ TalkCommand.ts
            ‚îú‚îÄ‚îÄ AttackCommand.ts
            ‚îú‚îÄ‚îÄ CastCommand.ts
            ‚îú‚îÄ‚îÄ RollCommand.ts
            ‚îú‚îÄ‚îÄ MoveCommand.ts
            ‚îú‚îÄ‚îÄ HealCommand.ts
            ‚îî‚îÄ‚îÄ AIControlCommand.ts
    ```

- [ ] **Criar estrutura services/Business:**
  - **Description:** Separar l√≥gica de neg√≥cio e orchestra√ß√£o de services de infraestrutura
  - **Source:** Services existentes com l√≥gica de neg√≥cio
  - **Destination:** `/src/services/Business/`
  - **Files to Create:**
    ```
    /src/services/Business/
    ‚îú‚îÄ‚îÄ SessionManager.ts (SessaoJogo.ts movido)
    ‚îú‚îÄ‚îÄ AIService.ts (OpenAIService.ts refatorado para orchestra√ß√£o)
    ‚îî‚îÄ‚îÄ CharacterAIService.ts (IAPersonagem.ts movido se for business logic)
    ```

- [ ] **Criar estrutura services/Infrastructure:**
  - **Description:** Centralizar services de infraestrutura (persist√™ncia, PWA, etc)
  - **Source:** Services de infraestrutura existentes
  - **Destination:** `/src/services/Infrastructure/`
  - **Files to Keep/Move:**
    ```
    /src/services/Infrastructure/
    ‚îú‚îÄ‚îÄ DatabaseService.ts (mantido)
    ‚îú‚îÄ‚îÄ BackupService.ts (mantido)
    ‚îú‚îÄ‚îÄ NotificationService.ts (mantido)
    ‚îú‚îÄ‚îÄ PWAService.ts (mantido)
    ‚îî‚îÄ‚îÄ PersistenceManager.ts (mantido)
    ```

- [ ] **Criar estrutura utils/ para helpers:**
  - **Description:** Mover utilit√°rios e helpers est√°ticos para pasta dedicada
  - **Source:** Services que s√£o na verdade utilities
  - **Destination:** `/src/utils/`
  - **Files to Create:**
    ```
    /src/utils/
    ‚îú‚îÄ‚îÄ ThemeHelper.ts (ThemeService.ts convertido para classe est√°tica)
    ‚îú‚îÄ‚îÄ FormatHelper.ts (novo - fun√ß√µes de formata√ß√£o)
    ‚îú‚îÄ‚îÄ ValidationHelper.ts (novo - valida√ß√µes)
    ‚îú‚îÄ‚îÄ DateHelper.ts (novo - manipula√ß√£o de datas)
    ‚îî‚îÄ‚îÄ Deferred.ts (helper para padr√£o de promessas)
    ```

### 19. Sistema de Comandos Avan√ßado (Command Pattern)

- [ ] **Implementar Command Pattern base:**
  - **Description:** Criar sistema de comandos extens√≠vel usando Command Pattern com CommandRunner centralizado
  - **Source:** Planejamento em TODO-comandos-ia.md
  - **Destination:** `/src/services/Engine/Commands/`
  - **Files to Create:**
    - `CommandRunner.ts` - Executor e registry centralizado
    - `CommandParser.ts` - Parse de sintaxe `/` e `@npc`
    - `CommandContext.ts` - Contexto de execu√ß√£o de comandos
    - `commands/BaseCommand.ts` - Interface abstrata para comandos

- [ ] **Implementar comandos de comunica√ß√£o:**
  - **Description:** Comandos b√°sicos de fala e comunica√ß√£o entre NPCs
  - **Source:** Especifica√ß√£o em TODO-comandos-ia.md
  - **Destination:** `/src/services/Engine/Commands/commands/`
  - **Files to Create:**
    - `TalkCommand.ts` - `/talk [msg]`, `/talk @npc [msg]`
    - `WhisperCommand.ts` - `/whisper @npc [msg]`
    - `OOCCommand.ts` - `/ooc [msg]` (Out of Character)

- [ ] **Implementar comandos de a√ß√£o:**
  - **Description:** Comandos de combate e mec√¢nicas de jogo
  - **Source:** Especifica√ß√£o em TODO-comandos-ia.md
  - **Destination:** `/src/services/Engine/Commands/commands/`
  - **Files to Create:**
    - `AttackCommand.ts` - `/attack @alvo [arma?]`
    - `CastCommand.ts` - `/cast [magia] [@alvo?]`
    - `RollCommand.ts` - `/roll [nota√ß√£o]`
    - `MoveCommand.ts` - `/move [local]`
    - `HealCommand.ts` - `/heal @alvo [quantidade]`
    - `DefendCommand.ts` - `/defend`

- [ ] **Implementar comandos de IA:**
  - **Description:** Comandos para controle e configura√ß√£o de IA dos NPCs
  - **Source:** Especifica√ß√£o em TODO-comandos-ia.md
  - **Destination:** `/src/services/Engine/Commands/commands/`
  - **Files to Create:**
    - `AIControlCommand.ts` - `/ai_on @npc`, `/ai_off @npc`
    - `PersonalityCommand.ts` - `/personality @npc [descri√ß√£o]`
    - `TaskCommand.ts` - `/task @npc [tarefa]`
    - `KnowledgeCommand.ts` - `/know @npc [informa√ß√£o]`

- [ ] **Integrar sistema de comandos com GamePage:**
  - **Description:** Modificar interface de chat para suportar auto-complete e execu√ß√£o de comandos
  - **Source:** Campo de input da GamePage
  - **Destination:** Componentes de chat da GamePage
  - **Changes:**
    - Detectar `/` e `@` para mostrar auto-complete
    - Parse de mensagem antes de enviar para IA
    - Executar comandos ao inv√©s de enviar como mensagem normal
    - Sistema de feedback visual para comandos executados

### 20. Separa√ß√£o das Tabs de Configura√ß√£o

### 20. Separa√ß√£o das Tabs de Configura√ß√£o

- [ ] **Refatora√ß√£o da estrutura de navega√ß√£o:**
  - **Description:** Separar as tabs da GamePage. A guia de configura√ß√£o deve conter apenas configura√ß√µes. Personagens, Mapas, Itens e Magias devem ser p√°ginas independentes
  - **Source:** `/src/pages/GamePage.vue` (se√ß√£o de tabs)
  - **Destination:**
    - `/src/pages/Personagens/PersonagensPage.vue + PersonagensPage_PageCtrl.ts`
    - `/src/pages/Mapas/MapasPage.vue + MapasPage_PageCtrl.ts`
    - `/src/pages/Itens/ItensPage.vue + ItensPage_PageCtrl.ts`
    - `/src/pages/Magias/MagiasPage.vue + MagiasPage_PageCtrl.ts`
    - `/src/pages/Configuracoes/ConfiguracoesPage.vue + ConfiguracoesPage_PageCtrl.ts`
  - **Router Updates:** Adicionar rotas para as novas p√°ginas
  - **Navigation:** Implementar menu de navega√ß√£o principal

### 21. Cria√ß√£o R√°pida com IA nos Modais

### 21. Cria√ß√£o R√°pida com IA nos Modais

- [ ] **Implementar bot√£o "Criar com IA" em todos os modais:**
  - **Description:** Adicionar funcionalidade de cria√ß√£o r√°pida usando IA em todos os modais de cria√ß√£o/edi√ß√£o
  - **Source:** Todos os modais de cria√ß√£o
  - **Destination:**
    - `CriarPersonagem_Ctrl.ts` ‚Üí `createWithAI()` method
    - `EditarItem_Ctrl.ts` ‚Üí `generateWithAI()` method
    - `EditarMagia_Ctrl.ts` ‚Üí `generateWithAI()` method
    - `EditarMapa_Ctrl.ts` ‚Üí `generateWithAI()` method
  - **Integration:** Conectar com PromptEngine centralizado
  - **UI:** Adicionar bot√£o "‚ú® Criar com IA" nos modais

### 22. Sistema de Prompts Centralizado (PromptEngine)

### 22. Sistema de Prompts Centralizado (PromptEngine)

- [ ] **Criar arquitetura centralizada para prompts de IA:**
  - **Description:** Centralizar todas as instru√ß√µes para agentes IA em um sistema modular e extens√≠vel
  - **Source:** Prompts espalhados nos services
  - **Destination:** `/src/services/Engine/AI/prompts/`
  - **Files to Create:**
    ```
    /src/services/Engine/AI/prompts/
    ‚îú‚îÄ‚îÄ PromptEngine.ts              # Engine principal
    ‚îÇ   ‚îú‚îÄ‚îÄ exec()                   # Executa prompt
    ‚îÇ   ‚îî‚îÄ‚îÄ appendGlobalMiddle()     # Adiciona contexto global
    ‚îú‚îÄ‚îÄ CreateCharacter_Prompt.ts    # Prompt de cria√ß√£o de personagem
    ‚îÇ   ‚îú‚îÄ‚îÄ toString()               # Gera prompt final
    ‚îÇ   ‚îú‚îÄ‚îÄ variables               # Vari√°veis do prompt
    ‚îÇ   ‚îî‚îÄ‚îÄ appendMiddle()          # Adiciona contexto espec√≠fico
    ‚îú‚îÄ‚îÄ CreateItem_Prompt.ts        # Prompt de cria√ß√£o de item
    ‚îú‚îÄ‚îÄ CreateMagic_Prompt.ts       # Prompt de cria√ß√£o de magia
    ‚îú‚îÄ‚îÄ CreateMap_Prompt.ts         # Prompt de cria√ß√£o de mapa
    ‚îî‚îÄ‚îÄ BasePrompt.ts               # Classe base para prompts
    ```
  - **Pattern:** Cada prompt √© uma classe com m√©todos padronizados
  - **Integration:** Todos os services de IA devem usar PromptEngine

### 23. Internacionaliza√ß√£o (C√≥digo ‚Üí Ingl√™s, UI ‚Üí Portugu√™s)

- [ ] **Padronizar idiomas no projeto:**
  - **Description:** Todo c√≥digo (vari√°veis, m√©todos, classes, arquivos) em ingl√™s. Todos os textos de UI em portugu√™s via sistema de i18n
  - **Source:** Todo o projeto
  - **Destination:**
    - Refatorar nomes de vari√°veis, m√©todos e classes para ingl√™s
    - Criar sistema i18n para textos de UI
    - `/src/i18n/pt-BR.ts` para tradu√ß√µes
  - **Examples:**

    ```typescript
    // ANTES (misturado)
    criarPersonagem() ‚Üí createCharacter()
    personagemParaEditar ‚Üí characterToEdit
    mostrarDialogDados ‚Üí showDiceDialog

    // DEPOIS (c√≥digo ingl√™s + UI portugu√™s)
    createCharacter() // m√©todo em ingl√™s
    $t('buttons.createCharacter') // UI em portugu√™s via i18n
    ```

### 23. Internacionaliza√ß√£o (C√≥digo ‚Üí Ingl√™s, UI ‚Üí Portugu√™s)

- [ ] **Padronizar idiomas no projeto:**
  - **Description:** Todo c√≥digo (vari√°veis, m√©todos, classes, arquivos) em ingl√™s. Todos os textos de UI em portugu√™s via sistema de i18n
  - **Source:** Todo o projeto
  - **Destination:**
    - Refatorar nomes de vari√°veis, m√©todos e classes para ingl√™s
    - Criar sistema i18n para textos de UI
    - `/src/i18n/pt-BR.ts` para tradu√ß√µes
  - **Examples:**

    ```typescript
    // ANTES (misturado)
    criarPersonagem() ‚Üí createCharacter()
    personagemParaEditar ‚Üí characterToEdit
    mostrarDialogDados ‚Üí showDiceDialog

    // DEPOIS (c√≥digo ingl√™s + UI portugu√™s)
    createCharacter() // m√©todo em ingl√™s
    $t('buttons.createCharacter') // UI em portugu√™s via i18n
    ```

  - **Scope:** Refatorar ~80% dos arquivos do projeto
  - **Tools:** Vue-i18n para gerenciamento de tradu√ß√µes

### 24. Sistema de Layout Grid Pr√≥prio

- [ ] **Criar sistema de layout pr√≥prio usando CSS Grid:**
  - **Description:** Substituir o sistema de colunas do Quasar por um sistema pr√≥prio baseado em CSS Grid com gap. O sistema do Quasar √© limitado e problem√°tico.
  - **Source:** Sistema de cols/rows do Quasar espalhado pelo projeto
  - **Destination:** `/src/components/Layout/Space/`
  - **Files to Create:**
    ```
    /src/components/Layout/Space/
    ‚îú‚îÄ‚îÄ Grid.vue           # Container principal com display: grid
    ‚îú‚îÄ‚îÄ GridItem.vue       # Item do grid
    ‚îú‚îÄ‚îÄ Flex.vue           # Container flexbox
    ‚îú‚îÄ‚îÄ FlexItem.vue       # Item flexbox
    ‚îú‚îÄ‚îÄ Stack.vue          # Layout vertical com gap
    ‚îî‚îÄ‚îÄ Cluster.vue        # Layout horizontal com gap
    ```
  - **Features:**
    - CSS Grid nativo com `grid-template-columns` e `gap`
    - Props din√¢micas para colunas: `cols="1fr 2fr 1fr"`
    - Responsividade: `cols-mobile="1fr" cols-tablet="1fr 1fr"`
    - Gap consistente: `gap="md"` (8px, 16px, 24px)
  - **Migration:** Substituir `q-col`, `q-row` em todo o projeto

### 25. Integra√ß√£o do Tailwind CSS

### 25. Integra√ß√£o do Tailwind CSS

- [ ] **Adicionar Tailwind CSS ao projeto:**
  - **Description:** Integrar Tailwind CSS para estiliza√ß√£o dos componentes do Quasar e componentes customizados
  - **Source:** Nova integra√ß√£o
  - **Destination:** Configura√ß√£o global
  - **Files to Create/Update:**
    ```
    /tailwind.config.js      # Configura√ß√£o do Tailwind
    /src/css/tailwind.css    # Imports do Tailwind
    /quasar.config.ts        # Integra√ß√£o com Quasar
    ```
  - **Setup:**
    - `npm install -D tailwindcss postcss autoprefixer`
    - Configurar `tailwind.config.js` com tema personalizado
    - Integrar com PostCSS existente
    - Classes utilit√°rias para spacing, colors, typography
  - **Usage:** Estilizar componentes Quasar com classes Tailwind
  - **Benefits:** Utilit√°rios CSS, design system consistente, responsividade

### 26. Padr√£o Factory para Classes de Dom√≠nio

- [ ] **Implementar Static Factory Pattern em todas as classes de dom√≠nio:**
  - **Description:** Padronizar cria√ß√£o de inst√¢ncias com factory method est√°tico e estrutura de dados consistente
  - **Source:** Todas as classes em `/src/domain/entities/`
  - **Destination:** Mesmas classes refatoradas
  - **Pattern Implementation:**

    ```typescript
    // Exemplo: Personagem.ts
    interface Personagem_Data {
      id: string;
      nome: string;
      nivel: number;
      // ... outras propriedades de persist√™ncia
    }

    export class Personagem {
      // ‚úÖ OBRIGAT√ìRIO: Static factory method
      static create(data: Personagem_Data): Personagem {
        const instance = new Personagem();
        instance.data = data; // ‚úÖ Atribui√ß√£o direta ao data
        return instance;
      }

      static createEmpty(): Personagem {
        const instance = new Personagem();
        instance.data = {
          id: '',
          nome: '',
          nivel: 1,
        };
        return instance;
      }

      // ‚úÖ OBRIGAT√ìRIO: Propriedade data tipada
      public data: Personagem_Data | null = null;

      // ‚ùå PROIBIDO: Propriedades individuais de persist√™ncia
      // public nome: string = '';
      // public nivel: number = 1;

      // ‚úÖ PERMITIDO: Propriedades calculadas/getters
      get nome(): string {
        return this.data?.nome || '';
      }

      get nivel(): number {
        return this.data?.nivel || 1;
      }

      // ‚úÖ PERMITIDO: M√©todos de neg√≥cio
      podeSubirNivel(): boolean {
        return this.nivel < 20;
      }

      // ‚úÖ CORRETO: Atualiza√ß√£o via substitui√ß√£o do data
      updateData(newData: Partial<Personagem_Data>): void {
        if (this.data) {
          this.data = { ...this.data, ...newData }; // ‚úÖ Substitui√ß√£o completa
          // ‚ùå ERRADO: this.data.nome = newData.nome
        }
      }
    }
    ```

  - **Files to Refactor:**
    - `Personagem.ts` ‚Üí Factory pattern + data structure
    - `Item.ts` ‚Üí Factory pattern + data structure
    - `Arma.ts` ‚Üí Factory pattern + data structure
    - `Armadura.ts` ‚Üí Factory pattern + data structure
    - `Consumivel.ts` ‚Üí Factory pattern + data structure
    - `Magia.ts` ‚Üí Factory pattern + data structure
    - `Atributos.ts` ‚Üí Factory pattern + data structure

### 27. Configura√ß√£o de Testes (Jest + Vue Test Utils)

- [ ] **Configurar ambiente de testes completo:**
  - **Description:** Implementar Jest para arquivos TypeScript e Vue Test Utils para componentes Vue
  - **Source:** Nova configura√ß√£o
  - **Destination:** Configura√ß√£o global + arquivos de teste
  - **Setup Dependencies:**
    ```bash
    npm install -D jest @types/jest ts-jest
    npm install -D @vue/test-utils @vue/vue3-jest
    npm install -D jest-environment-jsdom
    npm install -D @testing-library/vue @testing-library/jest-dom
    ```
  - **Files to Create:**
    ```
    /jest.config.js              # Configura√ß√£o do Jest
    /src/test-utils/            # Utilit√°rios de teste
    ‚îú‚îÄ‚îÄ setup.ts                # Setup global dos testes
    ‚îú‚îÄ‚îÄ mocks.ts               # Mocks comuns
    ‚îî‚îÄ‚îÄ helpers.ts             # Helpers para testes
    ```
  - **Jest Configuration:**
    ```javascript
    // jest.config.js
    module.exports = {
      preset: 'ts-jest',
      testEnvironment: 'jsdom',
      moduleFileExtensions: ['js', 'ts', 'json', 'vue'],
      transform: {
        '^.+\\.ts$': 'ts-jest',
        '^.+\\.vue$': '@vue/vue3-jest',
      },
      moduleNameMapping: {
        '^@/(.*)$': '<rootDir>/src/$1',
        '^src/(.*)$': '<rootDir>/src/$1',
      },
      testMatch: [
        '<rootDir>/src/**/__tests__/**/*.test.{js,ts}',
        '<rootDir>/src/**/*.test.{js,ts}',
        '<rootDir>/src/**/__tests__/**/*.spec.{js,ts}',
        '<rootDir>/src/**/*.spec.{js,ts}',
      ],
      collectCoverageFrom: ['src/**/*.{ts,vue}', '!src/**/*.d.ts', '!src/test-utils/**'],
      setupFilesAfterEnv: ['<rootDir>/src/test-utils/setup.ts'],
    };
    ```

- [ ] **Implementar testes para arquivos TypeScript (.ts):**
  - **Description:** Criar testes unit√°rios usando Jest para classes, services, utils e engines
  - **Pattern for .ts files:**

    ```typescript
    // Exemplo: src/domain/entities/Character/__tests__/Personagem.test.ts
    import { Personagem } from '../Personagem';
    import type { Personagem_Data } from '../Personagem_Data';

    describe('Personagem', () => {
      const mockData: Personagem_Data = {
        id: '123',
        nome: 'Gandalf',
        nivel: 5,
      };

      describe('Factory Methods', () => {
        it('should create instance with data', () => {
          const personagem = Personagem.create(mockData);

          expect(personagem.data).toEqual(mockData);
          expect(personagem.nome).toBe('Gandalf');
          expect(personagem.nivel).toBe(5);
        });

        it('should create empty instance', () => {
          const personagem = Personagem.createEmpty();

          expect(personagem.data).toBeDefined();
          expect(personagem.nome).toBe('');
          expect(personagem.nivel).toBe(1);
        });
      });

      describe('Business Logic', () => {
        it('should allow level up when below max level', () => {
          const personagem = Personagem.create({ ...mockData, nivel: 10 });

          expect(personagem.podeSubirNivel()).toBe(true);
        });

        it('should not allow level up at max level', () => {
          const personagem = Personagem.create({ ...mockData, nivel: 20 });

          expect(personagem.podeSubirNivel()).toBe(false);
        });
      });

      describe('Data Updates', () => {
        it('should update data correctly', () => {
          const personagem = Personagem.create(mockData);

          personagem.updateData({ nome: 'Saruman', nivel: 8 });

          expect(personagem.nome).toBe('Saruman');
          expect(personagem.nivel).toBe(8);
          expect(personagem.data?.id).toBe('123'); // Mant√©m outros dados
        });
      });
    });
    ```

- [ ] **Implementar testes para componentes Vue (.vue):**
  - **Description:** Criar testes de componentes usando Vue Test Utils
  - **Pattern for .vue files:**

    ```typescript
    // Exemplo: src/components/Base/Input/__tests__/Input.spec.ts
    import { mount } from '@vue/test-utils';
    import { describe, it, expect, vi } from 'vitest';
    import Input from '../Input.vue';

    describe('Input Component', () => {
      it('should render with initial value', () => {
        const wrapper = mount(Input, {
          props: {
            modelValue: 'test value',
            label: 'Test Label',
          },
        });

        expect(wrapper.find('input').element.value).toBe('test value');
        expect(wrapper.text()).toContain('Test Label');
      });

      it('should emit update on input change', async () => {
        const wrapper = mount(Input, {
          props: {
            modelValue: '',
            label: 'Test',
          },
        });

        const input = wrapper.find('input');
        await input.setValue('new value');

        expect(wrapper.emitted('update:modelValue')).toBeTruthy();
        expect(wrapper.emitted('update:modelValue')?.[0]).toEqual(['new value']);
      });

      it('should display error state', () => {
        const wrapper = mount(Input, {
          props: {
            modelValue: '',
            label: 'Test',
            error: true,
            errorMessage: 'Required field',
          },
        });

        expect(wrapper.classes()).toContain('error');
        expect(wrapper.text()).toContain('Required field');
      });
    });
    ```

- [ ] **Implementar testes para Controllers:**
  - **Description:** Testes espec√≠ficos para padr√£o de Controller com reatividade
  - **Pattern for Controllers:**

    ```typescript
    // Exemplo: src/pages/Game/__tests__/GamePage_PageCtrl.test.ts
    import { GamePage_PageCtrl } from '../GamePage_PageCtrl';

    describe('GamePage_PageCtrl', () => {
      let ctrl: GamePage_PageCtrl;

      beforeEach(() => {
        ctrl = GamePage_PageCtrl.reactive();
      });

      describe('Initialization', () => {
        it('should create reactive controller', () => {
          expect(ctrl).toBeDefined();
          expect(ctrl.loading).toBe(false);
        });

        it('should mount with data correctly', async () => {
          const mockData = { sessionId: '123' };

          await ctrl.mount(mockData);

          expect(ctrl.data).toEqual(mockData);
        });
      });

      describe('Modal Management', () => {
        it('should open modal and return result', async () => {
          const resultPromise = ctrl.modalPersonagem.open();
          ctrl.modalPersonagem.close({ nome: 'Test Character' });

          const result = await resultPromise;
          expect(result).toEqual({ nome: 'Test Character' });
        });
      });
    });
    ```

- [ ] **Criar estrutura de testes:**
  - **Description:** Organizar testes seguindo estrutura do projeto
  - **Test Structure:**
    ```
    src/
    ‚îú‚îÄ‚îÄ domain/entities/
    ‚îÇ   ‚îî‚îÄ‚îÄ Character/
    ‚îÇ       ‚îú‚îÄ‚îÄ Personagem.ts
    ‚îÇ       ‚îî‚îÄ‚îÄ __tests__/
    ‚îÇ           ‚îî‚îÄ‚îÄ Personagem.test.ts
    ‚îú‚îÄ‚îÄ services/Engine/
    ‚îÇ   ‚îî‚îÄ‚îÄ Commands/
    ‚îÇ       ‚îú‚îÄ‚îÄ CommandRunner.ts
    ‚îÇ       ‚îî‚îÄ‚îÄ __tests__/
    ‚îÇ           ‚îî‚îÄ‚îÄ CommandRunner.test.ts
    ‚îú‚îÄ‚îÄ components/Base/
    ‚îÇ   ‚îî‚îÄ‚îÄ Input/
    ‚îÇ       ‚îú‚îÄ‚îÄ Input.vue
    ‚îÇ       ‚îî‚îÄ‚îÄ __tests__/
    ‚îÇ           ‚îî‚îÄ‚îÄ Input.spec.ts
    ‚îî‚îÄ‚îÄ pages/Game/
        ‚îú‚îÄ‚îÄ GamePage_PageCtrl.ts
        ‚îî‚îÄ‚îÄ __tests__/
            ‚îî‚îÄ‚îÄ GamePage_PageCtrl.test.ts
    ```

---

## üìä PRIORIZA√á√ÉO ATUALIZADA - ORDEM CORRETA DE EXECU√á√ÉO

### üî¥ **FASE 1 - FUNDA√á√ÉO** (Base para tudo - EXECUTAR PRIMEIRO)

1. **TAREFA #18** - Reorganiza√ß√£o Estrutural (domain/entities, services/Engine, services/Business, utils/)
2. **TAREFA #26** - Padr√£o Factory para Classes de Dom√≠nio (Static factory + data structure)
3. **TAREFA #27** - Configura√ß√£o de Testes (Jest + Vue Test Utils)
4. **TAREFA #4** - Criar componentes Base (Input, Btn, Select)
5. **TAREFA #13** - Criar helper Deferred
6. **TAREFA #24** - Sistema de Layout Grid (components/Layout/Space)
7. **TAREFA #25** - Integra√ß√£o do Tailwind CSS
8. **TAREFA #8** - Migrar fun√ß√µes utilit√°rias para /src/utils/

### üü° **FASE 2 - SERVICES & CORE** (L√≥gica de neg√≥cio)

9. **TAREFA #7** - Services refactoring (Classes Est√°ticas)
10. **TAREFA #19** - Sistema de Comandos Base (CommandRunner, CommandParser)
11. **TAREFA #22** - Sistema de Prompts Centralizado (PromptEngine)
12. **TAREFA #5** - Convers√£o das stores principais
13. **TAREFA #6** - Padr√£o Entity-Document

### üîµ **FASE 3 - COMPONENTS & PAGES** (Interface)

14. **TAREFA #1** - GamePage_PageCtrl (1789 linhas!)
15. **TAREFA #20** - Separa√ß√£o das Tabs de Configura√ß√£o (Personagens, Itens, Magias, Mapas como p√°ginas)
16. **TAREFA #2** - Refatora√ß√£o dos modais (14 modais)
17. **TAREFA #3** - Componentes complexos
18. **TAREFA #10** - Reorganiza√ß√£o de pastas

### üü¢ **FASE 4 - FEATURES & INTEGRA√á√ÉO** (Funcionalidades avan√ßadas)

19. **TAREFA #19** - Comandos de Comunica√ß√£o, A√ß√£o e IA (TalkCommand, AttackCommand, etc)
20. **TAREFA #21** - Cria√ß√£o R√°pida com IA nos Modais
21. **TAREFA #9** - Consolida√ß√£o SistemaTurnos
22. **TAREFA #11** - Definitions files
23. **TAREFA #14** - Valida√ß√£o Zod
24. **TAREFA #23** - Internacionaliza√ß√£o (C√≥digo ‚Üí Ingl√™s, UI ‚Üí Portugu√™s)
25. **TAREFA #16** - Aplicar diretrizes de imports

---

**Estimativa total:** üïê **10-12 semanas** para desenvolvedor s√™nior (+2 semanas pelas tarefas de Factory Pattern e Testes)  
**Total de tarefas:** **62 tarefas** (58 originais + 4 novas: Factory Pattern + Testes)  
**Arquivos impactados:** **~99% do projeto** (reorganiza√ß√£o + factory pattern + testes completos)  
**Breaking changes:** **Altos** (mudan√ßa completa de arquitetura + factory pattern em todas as classes)  
**Benef√≠cios:** **Arquitetura enterprise-grade + padr√µes consistentes + cobertura de testes completa + qualidade de c√≥digo profissional**

## üéØ **PR√ìXIMOS PASSOS IMEDIATOS:**

1. **FASE 1** deve ser executada sequencialmente (reorganiza√ß√£o estrutural √© pr√©-requisito para tudo)
2. **Factory Pattern** (TAREFA #26) √© **CR√çTICO** - padroniza todas as classes de dom√≠nio
3. **Configura√ß√£o de Testes** (TAREFA #27) √© **ESSENCIAL** - garante qualidade desde o in√≠cio
4. **Componentes Base** s√£o pr√©-requisito para toda UI
5. **Sistema de Comandos** representa salto qualitativo enorme no projeto
6. **Cobertura de Testes** garante confiabilidade empresarial

**PROJETO TRANSFORMADO:** De c√≥digo "estudantil" para **arquitetura empresarial** com padr√µes consistentes, sistema de comandos avan√ßado, integra√ß√£o profunda com IA e **cobertura de testes profissional**!

## üèÜ **RESULTADO FINAL:**

```
üìÅ src/
‚îú‚îÄ‚îÄ üìÅ domain/entities/          # Entidades com Factory Pattern + testes
‚îú‚îÄ‚îÄ üìÅ services/Engine/          # Motores testados (Combat, AI, Commands, Dice)
‚îú‚îÄ‚îÄ üìÅ services/Business/        # L√≥gica de neg√≥cio testada
‚îú‚îÄ‚îÄ üìÅ services/Infrastructure/  # Persist√™ncia, PWA, Backup testados
‚îú‚îÄ‚îÄ üìÅ utils/                    # Helpers testados
‚îú‚îÄ‚îÄ üìÅ components/Base/          # Componentes testados com Vue Test Utils
‚îú‚îÄ‚îÄ üìÅ components/Layout/        # Sistema de Grid testado
‚îú‚îÄ‚îÄ üìÅ test-utils/              # Utilit√°rios de teste centralizados
‚îî‚îÄ‚îÄ üìÅ pages/                    # P√°ginas testadas com pattern Page+PageCtrl
    ‚îú‚îÄ‚îÄ Game/                    # Chat de IA + comandos testado
    ‚îú‚îÄ‚îÄ Characters/              # P√°gina de personagens testada
    ‚îú‚îÄ‚îÄ Items/                   # P√°gina de itens testada
    ‚îú‚îÄ‚îÄ Spells/                  # P√°gina de magias testada
    ‚îî‚îÄ‚îÄ Maps/                    # P√°gina de mapas testada
```

## üß™ **QUALIDADE GARANTIDA:**

### **Factory Pattern aplicado em:**

- ‚úÖ Todas as entidades de dom√≠nio
- ‚úÖ Estrutura `data` consistente
- ‚úÖ M√©todos est√°ticos de cria√ß√£o
- ‚úÖ Atualiza√ß√µes via substitui√ß√£o de data

### **Cobertura de Testes:**

- ‚úÖ **Jest** para arquivos `.ts` (classes, services, utils)
- ‚úÖ **Vue Test Utils** para componentes `.vue`
- ‚úÖ **Controllers** testados com padr√£o reativo
- ‚úÖ **Engines** testados unitariamente
- ‚úÖ **Componentes** testados com props/emits/states

**UM PROJETO ENTERPRISE-GRADE COMPLETO!** üöÄ‚ú®
